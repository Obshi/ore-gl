!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/gl/js/",r(r.s=2)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=function(){function t(t,e,r,n){this._values=new Float32Array([t,e,r,n])}return t.identity=function(){return new t(1,0,0,1)},Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._values.toString()},t}();e.Matrix2x2=i;var o=function(){function t(t,e,r,n,i,o,s,u,a){this._values=new Float32Array([t,e,r,n,i,o,s,u,a])}return t.identity=function(){return new t(1,0,0,0,1,0,0,0,1)},Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._values.toString()},t}();e.Matrix3x3=o;var s=function(){function t(t,e,r,n,i,o,s,u,a,l,h,c,f,g,p,y){this._values=new Float32Array([t,e,r,n,i,o,s,u,a,l,h,c,f,g,p,y])}return t.identity=function(){return new t(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},t.translation=function(e,r,n){return new t(1,0,0,0,0,1,0,0,0,0,1,0,e,r,n,1)},t.scaling=function(e,r,n){return new t(e,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1)},t.rotationX=function(e){var r=Math.sin(e),n=Math.cos(e);return new t(1,0,0,0,0,n,r,0,0,-r,n,0,0,0,0,1)},t.rotationY=function(e){var r=Math.sin(e),n=Math.cos(e);return new t(n,0,-r,0,0,1,0,0,r,0,n,0,0,0,0,1)},t.rotationZ=function(e){var r=Math.sin(e),n=Math.cos(e);return new t(n,r,0,0,-r,n,0,0,0,0,1,0,0,0,0,1)},t.rotationAround=function(t,e){return n.Quaternion.rotationAround(t,e).toRotationMatrix4()},t.lookAt=function(e,r,n){var i=e.sub(r).normalize(),o=n.cross(i).normalize(),s=i.cross(o).normalize();return new t(o.x,s.x,i.x,0,o.y,s.y,i.y,0,o.z,s.z,i.z,0,-e.dot(o),-e.dot(s),-e.dot(i),1)},t.orthographic=function(e){var r=e.top,n=e.bottom,i=e.left,o=e.right,s=e.near,u=e.far;return new t(2/(o-i),0,0,0,0,2/(r-n),0,0,0,0,-2/(u-s),0,-(o+i)/(o-i),-(r+n)/(r-n),-(u+s)/(u-s),1)},t.frustum=function(e){var r=e.top,n=e.bottom,i=e.left,o=e.right,s=e.near,u=e.far;return new t(2*s/(o-i),0,0,0,0,2*s/(r-n),0,0,(o+i)/(o-i),(r+n)/(r-n),-(u+s)/(u-s),-1,0,0,-2*u*s/(u-s),0)},t.perspective=function(e){var r=e.near*Math.tan(.5*e.fovYRadian),n=2*r,i=e.aspectRatio*n,o=-.5*i,s=o+i,u=r-n;return t.frustum({top:r,bottom:u,left:o,right:s,near:e.near,far:e.far})},t.prototype.mulByMatrix4x4=function(e){var r=this._values[0],n=this._values[4],i=this._values[8],o=this._values[12],s=this._values[1],u=this._values[5],a=this._values[9],l=this._values[13],h=this._values[2],c=this._values[6],f=this._values[10],g=this._values[14],p=this._values[3],y=this._values[7],d=this._values[11],v=this._values[15],m=e.values[0],_=e.values[4],b=e.values[8],x=e.values[12],E=e.values[1],R=e.values[5],T=e.values[9],F=e.values[13],A=e.values[2],w=e.values[6],P=e.values[10],B=e.values[14],O=e.values[3],U=e.values[7],M=e.values[11],S=e.values[15];return new t(r*m+n*E+i*A+o*O,s*m+u*E+a*A+l*O,h*m+c*E+f*A+g*O,p*m+y*E+d*A+v*O,r*_+n*R+i*w+o*U,s*_+u*R+a*w+l*U,h*_+c*R+f*w+g*U,p*_+y*R+d*w+v*U,r*b+n*T+i*P+o*M,s*b+u*T+a*P+l*M,h*b+c*T+f*P+g*M,p*b+y*T+d*P+v*M,r*x+n*F+i*B+o*S,s*x+u*F+a*B+l*S,h*x+c*F+f*B+g*S,p*x+y*F+d*B+v*S)},t.prototype.mulByMatrix4=function(t){return this.mulByMatrix4x4(t)},t.prototype.translate=function(e,r,n){var i=t.translation(e,r,n);return this.mulByMatrix4x4(i)},t.prototype.scale=function(e,r,n){var i=t.scaling(e,r,n);return this.mulByMatrix4x4(i)},t.prototype.rotateX=function(e){var r=t.rotationX(e);return this.mulByMatrix4x4(r)},t.prototype.rotateY=function(e){var r=t.rotationY(e);return this.mulByMatrix4x4(r)},t.prototype.rotateZ=function(e){var r=t.rotationZ(e);return this.mulByMatrix4x4(r)},t.prototype.rotateAround=function(e,r){var n=t.rotationAround(e,r);return this.mulByMatrix4x4(n)},Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._values.toString()},t}();e.Matrix4x4=s,e.Matrix2=i,e.Matrix3=o,e.Matrix4=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t,e,r,n){this._values=new Float32Array([t,e,r,n])}return t.rotationAround=function(e,r){var n=Math.sin(r/2),i=Math.cos(r/2);return new t(e.x*n,e.y*n,e.z*n,i)},t.prototype.normalize=function(){var e=this.magnitude;if(0===e)return this;var r=1/e;return new t(this.x*r,this.y*r,this.z*r,this.w*r)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)},t.prototype.mulByScalar=function(e){return new t(this.x*e,this.y*e,this.z*e,this.w*e)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},t.prototype.slerp=function(t,e,r){void 0===r&&(r={chooseShorterAngle:!0});var n=this.dot(t),i=t;n<0&&(n=-n,i=t.mulByScalar(-1));var o=Math.acos(n),s=Math.sin(o),u=this.mulByScalar(Math.sin((1-e)*o)/s),a=i.mulByScalar(Math.sin(e*o)/s);return u.add(a)},Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"norm",{get:function(){return this.magnitude},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._values[0]},set:function(t){this._values[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._values[1]},set:function(t){this._values[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._values[2]},set:function(t){this._values[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._values[3]},set:function(t){this._values[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),t.prototype.toRotationMatrix4=function(){var t=this.x,e=this.y,r=this.z,i=this.w,o=1-2*e*e-2*r*r,s=2*t*e-2*i*r,u=2*t*r+2*i*e,a=2*t*e+2*i*r,l=1-2*t*t-2*r*r,h=2*e*r-2*i*t,c=2*t*r-2*i*e,f=2*e*r+2*i*t,g=1-2*t*t-2*e*e;return new n.Matrix4x4(o,a,c,0,s,l,f,0,u,h,g,0,0,0,0,1)},t.prototype.toString=function(){return"Quaternion("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},t}();e.Quaternion=i},function(t,e,r){const{Vector3:n,Vector4:i,Matrix4:o}=r(3),s=r(6),u=r(8),a=r(9),l=r(10);var h,c,f,g,p=0;window.addEventListener("load",()=>{h=document.getElementById("canvas");window.devicePixelRatio;h.width=1*window.innerWidth,h.height=1*window.innerHeight,c=new s(h,{r:0,g:0,b:0}),f=c.getProgram(u,l),g=c.getProgram(u,a),function(){c.addAttribute(f,"position",3),c.addUniform(f,"resolution","uniform2fv"),c.addUniform(f,"preFrameTex","uniform1i"),c.addUniform(f,"time","uniform1f"),c.addAttribute(g,"position",3),c.addUniform(g,"texture","uniform1i"),c.addUniform(g,"resolution","uniform2fv"),c.cFbuffer(h.width,h.height,0),c.cFbuffer(h.width,h.height,1);var t=0;!function e(){p+=.01666;const r=o.lookAt(new n(0,2,5),new n(0,0,0),new n(0,1,0));const i=o.perspective({fovYRadian:60*Math.PI/180,aspectRatio:window.innerWidth/window.innerHeight,near:.1,far:10});const s=o.identity().rotateY(0).scale(2,2,2);i.mulByMatrix4(r).mulByMatrix4(s);t=0==t?1:0;c.selectFramebuffer(t);c.selectUseProgram(f);c.setAttribute("position",c.screenVBO,c.screenIBO);c.setUniform("resolution",[h.width,h.height]);c.setUniform("preFrameTex",0==t?1:0);c.setUniform("time",p);c.clear();c.drawElements();c.flush();c.selectFramebuffer(null);c.selectUseProgram(g);c.setAttribute("position",c.screenVBO,c.screenIBO);c.setUniform("texture",t);c.setUniform("resolution",[h.width,h.height]);c.clear();c.drawElements();c.flush();requestAnimationFrame(e)}()}()},!1)},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(4)),n(r(0)),n(r(1))},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),o=function(t){function e(e,r){var n=t.call(this)||this;return n._values=new Float32Array([e,r]),n}return n(e,t),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mulByScalar=function(t){return new e(this.x*t,this.y*t)},e}(i.Vector2Base);e.Float32Vector2=o;var s=function(t){function e(e,r,n){var i=t.call(this)||this;return i._values=new Float32Array([e,r,n]),i}return n(e,t),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.mulByScalar=function(t){return new e(this.x*t,this.y*t,this.z*t)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.cross=function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.normalize=function(){var t=this.magnitude;return 0===t?this:new e(this.x/t,this.y/t,this.z/t)},Object.defineProperty(e.prototype,"xy",{get:function(){return new o(this.x,this.y)},enumerable:!0,configurable:!0}),e}(i.Vector3Base);e.Float32Vector3=s;var u=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o._values=new Float32Array([e,r,n,i]),o}return n(e,t),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)},e.prototype.mulByScalar=function(t){return new e(this.x*t,this.y*t,this.z*t,this.w*t)},Object.defineProperty(e.prototype,"xyz",{get:function(){return new s(this.x,this.y,this.z)},enumerable:!0,configurable:!0}),e}(i.Vector4Base);e.Float32Vector4=u,e.Vector2=o,e.Vector3=s,e.Vector4=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"magnitude",{get:function(){var t=this._values.reduce(function(t,e){return t+Math.pow(e,2)},0);return Math.sqrt(t)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Vector"+this._values.length+"("+this._values.join(", ")+")"},t}();e.VectorBase=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._values[0]},set:function(t){this._values[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._values[1]},set:function(t){this._values[1]=t},enumerable:!0,configurable:!0}),e}(i);e.Vector2Base=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._values[0]},set:function(t){this._values[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._values[1]},set:function(t){this._values[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._values[2]},set:function(t){this._values[2]=t},enumerable:!0,configurable:!0}),e}(i);e.Vector3Base=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._values[0]},set:function(t){this._values[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._values[1]},set:function(t){this._values[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._values[2]},set:function(t){this._values[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this._values[3]},set:function(t){this._values[3]=t},enumerable:!0,configurable:!0}),e}(i);e.Vector4Base=u},function(t,e,r){const n=r(7);t.exports=class{constructor(t,e){this.gl=t.getContext("webgl"),this.canvas=t,this.program=[],this.fBuffer={},this.currentProgram,this.ext,this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.clearColor(e.r,e.g,e.b,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.ext=this.getWebGLExtensions(),this.screenVBO=this.cVBO([-1,1,0,1,1,0,-1,-1,0,1,-1,0]),this.screenIBO=this.cIBO([0,1,2,1,3,2])}getProgram(t,e){var r=this.cShader(t,this.gl.VERTEX_SHADER),i=this.cShader(e,this.gl.FRAGMENT_SHADER);return this.program.push(new n(this.cProgram(r,i))),this.program.length-1}cShader(t,e){var r=this.gl.createShader(e);return this.gl.shaderSource(r,t),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}cProgram(t,e){let r=this.gl.createProgram();return this.gl.attachShader(r,t),this.gl.attachShader(r,e),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.useProgram(r),r):(console.log(alert(this.gl.getProgramInfoLog(r))),null)}addAttribute(t,e,r){this.program[t].attLocation[e]=this.gl.getAttribLocation(this.program[t].program,e),this.program[t].attStride[e]=r}setAttribute(t,e,r){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data),this.gl.enableVertexAttribArray(this.currentProgram.attLocation[t]),this.gl.vertexAttribPointer(this.currentProgram.attLocation[t],this.currentProgram.attStride[t],this.gl.FLOAT,!1,0,0),this.currentProgram.VBOLength=e.length/this.currentProgram.attStride[t],r&&(this.currentProgram.indexLength=r.length,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,r.data))}addUniform(t,e,r){this.program[t].uniLocation[e]=this.gl.getUniformLocation(this.program[t].program,e),this.program[t].uniType[e]=r}setUniform(t,e){let r=this.currentProgram.uniType[t];switch(r){case"uniformMatrix4fv":this.gl[r](this.currentProgram.uniLocation[t],!1,e);break;default:this.gl[r](this.currentProgram.uniLocation[t],e)}}cVBO(t){let e=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),{data:e,length:t.length}}cIBO(t){let e=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Int16Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),{data:e,length:t.length}}cFbuffer(t,e,r,n=!1){this.fBuffer[r]=n?this.getFbufferFloat(t,e,r):this.getFbuffer(t,e,r),this.gl.bindTexture(this.gl.TEXTURE_2D,this.fBuffer[r].texture),this.gl.clearColor(0,0,0,1)}getFbuffer(t,e,r){let n=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n);let i=this.gl.createRenderbuffer();this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,i),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e),this.gl.framebufferRenderbuffer(this.gl.FRAMEBUFFER,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,i);let o=this.gl.createTexture();return this.gl.activeTexture(this.gl.TEXTURE0+r),this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,o,0),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),{framebuffer:n,renderbuffer:i,texture:o}}getFbufferFloat(t,e,r){if(null==this.ext||null==this.ext.textureFloat&&null==this.ext.textureHalfFloat)return void console.log("float texture not support");let n=this.ext.textureHalfFloat.HALF_FLOAT_OES,i=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i);let o=this.gl.createTexture();return this.gl.activeTexture(this.gl.TEXTURE0+r),this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,n,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,o,0),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),{framebuffer:i,texture:o}}selectFramebuffer(t){if(null==t)this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null);else{if(!this.fBuffer[t])return void console.log("unknown fbuffer");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fBuffer[t].framebuffer)}}selectUseProgram(t){this.currentProgram=this.program[t],this.gl.useProgram(this.currentProgram.program)}drawArrays(t){this.gl.drawArrays(t,0,this.currentProgram.VBOLength)}drawElements(){this.gl.drawElements(this.gl.TRIANGLES,this.currentProgram.indexLength,this.gl.UNSIGNED_SHORT,0)}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}flush(){this.gl.flush()}getWebGLExtensions(){return{elementIndexUint:this.gl.getExtension("OES_element_index_uint"),textureFloat:this.gl.getExtension("OES_texture_float"),textureHalfFloat:this.gl.getExtension("OES_texture_half_float")}}}},function(t,e){t.exports=class{constructor(t){this.program=t,this.attLocation={},this.attStride={},this.uniLocation={},this.uniType={},this.VBOLength=0,this.indexLength=0}}},function(t,e){t.exports="precision highp float;\n\nattribute vec3 position;\nvoid main(){\n    gl_Position = vec4(position,1.0);\n}\n"},function(t,e){t.exports="precision highp float;\r\n\r\nuniform sampler2D texture;\r\nuniform vec2 resolution;\r\n\r\nvoid main(){\r\n    vec2 uv = gl_FragCoord.xy / resolution;\r\n    vec3 c = texture2D(texture,uv).xyz;\r\n    \r\n    gl_FragColor = vec4(c,1.0);\r\n}"},function(t,e){t.exports="precision highp float;\r\n\r\nuniform sampler2D preFrameTex;\r\n\r\nuniform float time;\r\nuniform vec2 resolution;\r\n\r\nvec2 loop(vec2 p,float x){\r\n    p = mod(p,x);\r\n    p *= 1.0 / x;\r\n    return p;\r\n}\r\nvoid main(){\r\n    float t = time * 8.0;\r\n    vec2 origUV = gl_FragCoord.xy / resolution;\r\n    vec2 loopUV = loop(origUV,0.5);\r\n\r\n    vec2 uv = loopUV * 2.0 - 1.0;\r\n    vec3 c = vec3(0.0);\r\n    \r\n    // if(sin(time * 10.0) < 0.0){\r\n        c.x += texture2D(preFrameTex,loopUV - uv * 0.01 + vec2(0.01,0.0)).x * 0.9;\r\n        c.yz += texture2D(preFrameTex,loopUV - uv * 0.01 + vec2(0.0,0.0)).yz * 0.9;\r\n    // }\r\n\r\n    float r = 0.4;\r\n    vec2 pos = vec2(sin(t) * r,cos(t) * r);\r\n    float indens = step(0.5,max(0.0,(1.0 - length(uv + pos) * 1.7)));\r\n    c += indens ; //* vec3(sin(origUV.x * 10.0+ t * 0.5),cos(t),tan(t));\r\n\r\n    gl_FragColor = vec4(c,1.0);\r\n}"}]);